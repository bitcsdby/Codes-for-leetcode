<!DOCTYPE html>


<html>
  <head><script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
    <meta charset="utf-8">
    <title>Best Time to Buy and Sell Stock III | LeetCode OJ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">

    

    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet"> 
    <!--
    css code position is very important!
    to use the template, should place our own css between bootstrap.css & bootstrap-responsive.css 
    -->
    <style>
      body {
        overflow-y: scroll;
      }
      a {
        color: #0088cc;
      }
      a:hover {
        color: #005580;
      }
      .form-signin {
        max-width: 300px;
        padding: 19px 29px 29px;
        margin: 0 auto 20px;
        background-color: #fff;
        border: 1px solid #e5e5e5;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
        -moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
        box-shadow: 0 1px 2px rgba(0,0,0,.05);
      }
      .block-center {
        display: block;
        margin-left: auto;
        margin-right: auto;
      }
      .message {
         border: 1px solid #e6db55;
         background-color: #ffffe0;
         padding: 15px 30px 15px 15px;
         margin: 20px 0;
       }
      .navbar-extra {
         border-radius: 0px;
         margin-bottom: 30px;
      }
      #chat-link {
        position: fixed;
        right: 5px;
        bottom: 10px;
        background: #fff;
        border: 1px solid #e0e0e0;
        padding: 5px 15px 10px 15px;
        -webkit-border-radius: 5px 0 0 5px;
        -moz-border-radius: 5px 0 0 5px;
        -ms-border-radius: 5px 0 0 5px;
        -o-border-radius: 5px 0 0 5px;
        border-radius: 5px 0 0 5px;
        -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        color: #979faf;
      }
      .glyphicon-envelope {
        text-align: center;
        line-height: 26px;
        margin-right: 5px;
        position: relative;
      }
    </style>
    
<link rel="stylesheet" href="/static/CACHE/css/97af56613195.css" type="text/css" />


    <script src="/static/jquery/jquery-1.10.1.min.js"></script>
  </head>

  <body>
    
    <div class="navbar navbar-inverse navbar-extra">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">LeetCode OJ</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="problemsNav"><a href="/problems/">Problems</a></li>
            <li id="pickNav"><a href="/problems/4sum">Pick One!</a></li>
            <li id="submissionsNav"><a href="/submissions/">Submissions</a></li>
            <!-- TODO: not hard code -->
            <li id=""><a href="/discuss/">Discuss</a></li>
            <li id="donateNav"><a href="/donate/"><font color="#ed9c28">Donate</font></a></li>
            
          </ul>
          
          <div class="navbar-form navbar-right">
            <a class="btn btn-primary" href="/accounts/signup">Sign up</a>
            <a class="btn btn-default" href="/accounts/login/">Sign in</a>
          </div>
          
          <!--
          <form class="navbar-form pull-right">
            <input class="col-md-2" type="text" placeholder="Email">
            <input class="col-md-2" type="password" placeholder="Password">
            <button type="submit" class="btn">Sign in</button>
          </form>
          -->
        </div><!--/.navbar-collapse -->  
      </div>
    </div> 

    

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="question-title">
        <h3 style="display:inline">Best Time to Buy and Sell Stock III</h3>
        <span class="total-ac text-info">Total Accepted: <strong>9073</strong></span>
        <span class="total-submit text-info">Total Submissions: <strong>41242</strong></span>
        <a class="pull-right btn btn-default" href="/problems/best-time-to-buy-and-sell-stock-iii/submissions/">My Submissions</a>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="question-content">
            <p><p>Say you have an array for which the <i>i</i><sup>th</sup> element is the price of a given stock on day <i>i</i>.</p>

<p>Design an algorithm to find the maximum profit. You may complete at most <i>two</i> transactions.</p>

<p><b>Note:</b><br />
You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="interviewed_div">
    <form id="interviewed_form" method="post" action="/interviewed/">
      <input type='hidden' name='csrfmiddlewaretoken' value='y4dKEQBW4z1c8DdgQKsp5RFlmaM0RzQ8' />
      <input type="hidden" name="question_id" value="123" />
      <span>Have you been asked this question in an interview?</span>
      <button id="interviewed_button" class="btn btn-default" title="Yes" type="submit">
        Yes
      </button>
    </form>
    <span id="interviewed_state"></span>
  </div>
  <p class="action">
    <a class="btn btn-success btn-pad" href="/discuss/oj/best-time-to-buy-and-sell-stock-iii">Discuss</a>
  </p>
  <hr>
</div>
<form class="container" id="ajaxform" method="post" action="/problems/best-time-to-buy-and-sell-stock-iii/submit/">
  <input type='hidden' name='csrfmiddlewaretoken' value='y4dKEQBW4z1c8DdgQKsp5RFlmaM0RzQ8' />
  <input type="hidden" name="question_id" value="123" />
  <input type="hidden" name="judge_type" value="large" />
  <input type="hidden" name="data_input" value="" />
  <div class="row" style="margin-bottom:12px;">
    <div class="col-md-2" id="langselect">
      <select class="form-control" name="lang" id="lang" autocomplete="off">
        
        <option value="cpp">C++</option>
        
        <option value="java">Java</option>
        
        <option value="python">Python</option>
        
      </select>
    </div>
  </div>
  <input type="hidden" name="typed_code" />
  <div class="row">
    <div id="typed_codes" class="col-md-12">
      
      <textarea class="form-control cpp" rows="20">class Solution {
public:
    int maxProfit(vector&lt;int&gt; &amp;prices) {
        
    }
};</textarea>
      
      <textarea class="form-control java" rows="20">public class Solution {
    public int maxProfit(int[] prices) {
        
    }
}</textarea>
      
      <textarea class="form-control python" rows="20">class Solution:
    # @param prices, a list of integer
    # @return an integer
    def maxProfit(self, prices):
        </textarea>
      
    </div> 
  </div> 
  <div class="action">
    
    <button id="button1" class="btn btn-primary btn-pad" type="submit" disabled>Submit Solution</button>
    <a class="btn btn-link text-warning" href="/accounts/login/?next=/problems/best-time-to-buy-and-sell-stock-iii/">You have not signed in, cannot submit your code.</a>
    
    <span id="submit_wait" class="hide loading-center">
        <img src="/static/images/loading.gif" class="img-rounded" />
    </span>
    <div id="submit_error" class="btn text-danger hide">Submit failed, try again please.</div>
    <div id="submit_warning" class="btn text-danger hide">You have attempted to resubmit too soon. Please resubmit in a moment.</div>
  </div>
</form>
 
    
    <div class="container">
      <hr>
    </div> <!-- /container --> 
    <footer>
    <p class="text-center">
      <a href="/faq/">Frequently Asked Questions</a> | 
      <a href="/tos/">Terms of Service</a>
    </p>
    <p class="text-center">
      <a href="//www.iubenda.com/privacy-policy/499831" class="iubenda-white iubenda-embed" title="Privacy Policy">Privacy Policy</a><script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src = "//cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>
    </p>
    <p class="text-center">Copyright Â© 2014 LeetCode</p> 
    </footer>
    

    
<script type="text/javascript" src="/static/CACHE/js/e5dc78002f48.js"></script>
<script>
  function getAvailableLang(lang) {
    if ($("#lang option[value='" + lang + "']").length !== 0) {
      return lang;
    } else {
      return 'cpp';
    }
  }

  function loadSession() {
    
    if ($.localStorage.getItem('123_cpp') !== null &&
    $.localStorage.getItem('123_cpp') !== '') {
      editors.getEditor('cpp', 'typed_codes').setCode($.localStorage.getItem('123_cpp'));
    }
    
    if ($.localStorage.getItem('123_java') !== null &&
    $.localStorage.getItem('123_java') !== '') {
      editors.getEditor('java', 'typed_codes').setCode($.localStorage.getItem('123_java'));
    }
    
    if ($.localStorage.getItem('123_python') !== null &&
    $.localStorage.getItem('123_python') !== '') {
      editors.getEditor('python', 'typed_codes').setCode($.localStorage.getItem('123_python'));
    }
    
    if ($.localStorage.getItem('123_lang') !== null) {
      var lang = $.localStorage.getItem('123_lang');
      $('#lang').val(getAvailableLang(lang)).change();
    } else if ($.localStorage.getItem('global_lang') !== null) {
      var lang = $.localStorage.getItem('global_lang');
      $('#lang').val(getAvailableLang(lang)).change();
    }
  }

  function saveCodeSession() {
    
    $.localStorage.setItem('123_cpp', editors.getEditor('cpp', 'typed_codes').getCode());
    
    $.localStorage.setItem('123_java', editors.getEditor('java', 'typed_codes').getCode());
    
    $.localStorage.setItem('123_python', editors.getEditor('python', 'typed_codes').getCode());
    
  }

  function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
  }

  function renderResult(data) {
    $("#loading").addClass('hide');
    if (data == null) {
      alert("Error: returned data is null.");
      return;
    }
    $("#last_executed_testcase_output_row").addClass('hide');
    $("#result_code_output_row").addClass('hide');
    $("#wa_output").addClass('hide');
    $("#result_state").text(utils.getStatusText(data.status_code));
    $("#result_state").removeClass('text-info');
    $("#result_state").addClass('text-danger');
    var statusAbbr = utils.getClassText(data.status_code);
    switch (statusAbbr) {
      case 'AC' :
      $("#result_state").addClass('text-success');
      $("#result_state").removeClass('text-danger');
      break;
      case 'WA' :
      $("#wa_output").removeClass('hide');
      utils.renderWATestcases(data);
      $("#result_code_output").hide();
      break;
      case 'TLE' :
      case 'RE' :
        if (data.last_testcase) {
          $("#last_executed_testcase_output_row").removeClass('hide');
          $("#last_executed_testcase_output").text(data.last_testcase);
          if (data.runtime_error) {
            $("#runtime_error_output").text(data.runtime_error);
          } else {
            $("#runtime_error_row").hide();
          }
        } else if (data.code_output) {
          $("#last_executed_testcase_output_row").removeClass('hide');
          $("#last_executed_testcase_output").text(data.code_output);
          $("#runtime_error_row").hide();
        }
        break;
      case 'CE' :
        if (data.compile_error) {
          $("#result_code_output_row").removeClass('hide');
          $("#result_code_output").text(data.compile_error);
        } else if (data.code_output) {
          $("#result_code_output_row").removeClass('hide');
          $("#result_code_output").text(data.code_output);
        }
        break;
      default: 
    }
  };

  $(function() {
    if ($('.spoilers').length > 0) {
      $('.spoilers').hide();
      $('.showspoilers').click(function(e) {
        if ($('.spoilers').is(":visible"))  {
          $('.spoilers').hide();
        } else {
          $('.spoilers').show();
        }
        return false;
      });
    }
    $('#interviewed_form').submit(function(e) {
      e.preventDefault();
      $.ajaxSetup({
        crossDomain: false, // obviates need for sameOrigin test
        beforeSend: function(xhr, settings) {
          if (!csrfSafeMethod(settings.type)) {
            xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));
          }
        },
      });
      $.ajax({
        type: "POST",
        url: this.action,
        dataType: "json",
        data: $(this).serialize(),
        success: function(data) {
          $("#interviewed_form").hide();
          if (data['result'] === 'success') {
            $("#interviewed_state").addClass('text-success');
            $("#interviewed_state").text("Thanks for your feedback");
          } else if (data['result'] === 'voted') {
            $("#interviewed_state").text("Sorry, you can only vote once");
          } else if (data['result'] === 'anonymous') {
            window.location.href = "/accounts/login/?next=/problems/best-time-to-buy-and-sell-stock-iii/";
          }
        },
        error: function(data) {
          $("#interviewed_form").hide();
          $("#interviewed_state").addClass('text-danger');
          $("#interviewed_state").text("Sorry, internal error.");
        }
      });
    });
    $('#ajaxform').submit(function(e) {
      e.preventDefault();
      $("#button1").attr("disabled", "disabled");
      $("#submit_wait").removeClass('hide');
      $("#submit_warning").addClass('hide');
      $("#submit_error").addClass('hide');
      $('#result').remove();
      $('#ajaxform').after("\u000A      \u003Cstyle\u003E\u000A  .pad\u002Dleft {\u000A    padding\u002Dleft: 10px\u003B\u000A  }\u000A  .pad\u002Dright {\u000A    padding\u002Dright: 30px\u003B\u000A  }\u000A  .testcase\u002Dlabel {\u000A    color: #B25150\u003B\u000A  }\u000A  .testcase\u002Dtable {\u000A    border\u002Dcollapse: separate\u003B\u000A    border\u002Dspacing: 5px\u003B\u000A    font\u002Dfamily: Menlo,Monaco,Consolas,\u0027Courier New\u0027,monospace\u002Dwebkit\u002Dbody\u003B\u000A    white\u002Dspace: pre\u003B\u000A  }\u000A\u003C/style\u003E\u000A\u003Cdiv id\u003D\u0022result\u0022 class\u003D\u0022hide container\u0022\u003E\u000A  \u003Chr\u003E\u000A  \u003Cdiv class\u003D\u0022row\u0022\u003E\u000A    \u003Cdiv class\u003D\u0022col\u002Dmd\u002D12\u0022\u003E\u000A      \u003Cdiv class\u003D\u0022row\u0022\u003E\u000A        \u003Cdiv class\u003D\u0022col\u002Dmd\u002D8\u0022\u003E\u000A          \u003Ch4\u003ESubmission Result: \u003Ca id\u003D\u0022result_state\u0022 class\u003D\u0022text\u002Dinfo\u0022\u003EPending\u003C/a\u003E\u003C/h4\u003E\u000A        \u003C/div\u003E\u000A      \u003C/div\u003E\u000A      \u003Cdiv id\u003D\u0022last_executed_testcase_output_row\u0022 class\u003D\u0022hide\u0022\u003E\u000A        \u003Cdiv class\u003D\u0022alert alert\u002Ddanger col\u002Dmd\u002D12\u0022\u003E\u000A          \u003Ctable class\u003D\u0022testcase\u002Dtable\u0022\u003E\u000A            \u003Ctr id\u003D\u0022runtime_error_row\u0022\u003E\u000A              \u003Ctd class\u003D\u0022pad\u002Dleft testcase\u002Dlabel\u0022 style\u003D\u0022padding\u002Dright: 15px\u003B\u0022\u003ERuntime Error Message:\u003C/td\u003E\u000A              \u003Ctd id\u003D\u0022runtime_error_output\u0022 class\u003D\u0022text\u002Ddanger line\u002Dwrap\u0022 style\u003D\u0022font\u002Dweight: bold\u003B\u0022\u003E\u003C/td\u003E\u000A            \u003C/tr\u003E\u000A            \u003Ctr\u003E\u000A              \u003Ctd class\u003D\u0022pad\u002Dleft testcase\u002Dlabel\u0022 style\u003D\u0022padding\u002Dright: 15px\u003B\u0022\u003ELast executed input:\u003C/td\u003E\u000A              \u003Ctd id\u003D\u0022last_executed_testcase_output\u0022 class\u003D\u0022text\u002Ddanger line\u002Dwrap\u0022 style\u003D\u0022font\u002Dweight: bold\u003B\u0022\u003E\u003C/td\u003E\u000A            \u003C/tr\u003E\u000A          \u003C/table\u003E\u000A        \u003C/div\u003E\u000A      \u003C/div\u003E\u000A      \u003Cdiv id\u003D\u0022result_code_output_row\u0022 class\u003D\u0022hide\u0022\u003E\u000A        \u003Cdiv id\u003D\u0022result_code_output\u0022 class\u003D\u0022alert alert\u002Ddanger\u0022\u003E\u003C/div\u003E\u000A      \u003C/div\u003E\u000A      \u003Cdiv id\u003D\u0022wa_output\u0022 class\u003D\u0022hide\u0022\u003E\u000A        \u003Cdiv class\u003D\u0022alert alert\u002Ddanger col\u002Dmd\u002D12\u0022\u003E\u000A          \u003Ctable class\u003D\u0022testcase\u002Dtable\u0022\u003E\u000A            \u003Ctr style\u003D\u0022color: #333\u003B\u0022\u003E\u000A              \u003Ctd class\u003D\u0022pad\u002Dleft testcase\u002Dlabel\u0022\u003EInput:\u003C/td\u003E\u000A              \u003Ctd id\u003D\u0022result_wa_testcase_input\u0022 class\u003D\u0022line\u002Dwrap\u0022 style\u003D\u0022font\u002Dweight: bold\u0022\u003E\u003C/td\u003E\u000A            \u003C/tr\u003E\u000A            \u003Ctr class\u003D\u0022text\u002Ddanger\u0022\u003E\u000A              \u003Ctd class\u003D\u0022pad\u002Dleft testcase\u002Dlabel\u0022\u003EOutput:\u003C/td\u003E\u000A              \u003Ctd id\u003D\u0022result_wa_testcase_output\u0022 class\u003D\u0022line\u002Dwrap\u0022 style\u003D\u0022font\u002Dweight: bold\u0022\u003E\u003C/td\u003E\u000A            \u003C/tr\u003E\u000A            \u003Ctr class\u003D\u0022text\u002Dsuccess\u0022\u003E\u000A              \u003Ctd class\u003D\u0022pad\u002Dleft pad\u002Dright testcase\u002Dlabel\u0022\u003EExpected:\u003C/td\u003E\u000A              \u003Ctd id\u003D\u0022result_wa_testcase_expected\u0022 class\u003D\u0022line\u002Dwrap\u0022 style\u003D\u0022font\u002Dweight: bold\u0022\u003E\u003C/td\u003E\u000A            \u003C/tr\u003E\u000A          \u003C/table\u003E\u000A        \u003C/div\u003E\u000A      \u003C/div\u003E\u000A    \u003C/div\u003E\u000A  \u003C/div\u003E\u000A\u003C/div\u003E\u000A\u000A\u000A      "); 
      $('input[name="typed_code"]').val(editors.getCurrentEditor('typed_codes').getCode());

      $.ajaxSetup({
        crossDomain: false, // obviates need for sameOrigin test
        beforeSend: function(xhr, settings) {
          if (!csrfSafeMethod(settings.type)) {
            xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));
          }
        },
      });
      $.ajax({
        type: "POST",
        url: this.action,
        dataType: "json",
        data: $(this).serialize(),
        success: function(data) {
          $("#button1").removeAttr("disabled");
          $("#submit_wait").addClass('hide');
          if (data.submit_too_often) {
            $("#submit_warning").removeClass("hide");
          } else {
            $("#result").removeClass('hide');
            var tmpHref = "/submissions/detail/0/";
            tmpHref = tmpHref.substring(0, tmpHref.lastIndexOf('/'));
            tmpHref = tmpHref.substring(0, tmpHref.lastIndexOf('/') + 1);
            tmpHref += data.submission_id + "/";
            $("#result_state").attr('href', tmpHref);
            $.initSubmissionCheckWorker({
              'url': tmpHref + 'check/',
              'render': renderResult, 
              'started': function() {
                  $("#result_state").text('Judging');
              }
            });
          }
        },
        error: function(data) {
          $("#button1").removeAttr("disabled");
          $("#submit_wait").addClass('hide');
          $("#submit_error").removeClass('hide');
        }

      });
    });

    $("#lang option[value='cpp']").prop("selected", true);
    editors = new Editors(['typed_codes'], 'langselect', [
      
      "cpp",
      
      "java",
      
      "python",
      
    ]);

    // Overwrites default code definition with saved user code (if exist) in editor.
    loadSession();

    $('#langselect').change(function () {
      var lang = $(this).find(":selected").val();
      $.localStorage.setItem('global_lang', lang);
      $.localStorage.setItem('123_lang', lang);
    });
  });

  // Save edited code before navigating away.
  $(window).unload(function() {
    saveCodeSession();
  });
</script>


    <a href="mailto:admin@leetcode.com?subject=Feedback" id="chat-link" target="_blank">
    <i class="glyphicon glyphicon-envelope"></i>Send Feedback</a>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6849839-6', 'leetcode.com');
  ga('send', 'pageview');
</script>
  <script type="text/javascript">if(!NREUMQ.f){NREUMQ.f=function(){NREUMQ.push(["load",new Date().getTime()]);var e=document.createElement("script");e.type="text/javascript";e.src=(("http:"===document.location.protocol)?"http:":"https:")+"//"+"js-agent.newrelic.com/nr-100.js";document.body.appendChild(e);if(NREUMQ.a)NREUMQ.a();};NREUMQ.a=window.onload;window.onload=NREUMQ.f;};NREUMQ.push(["nrfj","beacon-2.newrelic.com","8d5fb92f6e","2098939","ZwMAYEdSCktRWxZRXV5JJEFbUBBRX1ZNSEBfBA5RWEABTB5OC11FQ1wTQVBAEFFfVj1cV0QHC1g=",0,23,new Date().getTime(),"","","","",""]);</script></body>
</html>
